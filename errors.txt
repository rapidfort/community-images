[09:39:15] {/root/rapidfort/community-images/community_images/common/orchestrator/main.py:182} INFO - stub_coverage, cfssl-self-sign/ironbank
[09:39:15] {/root/rapidfort/community-images/community_images/common/orchestrator/main.py:40} INFO - config_dict={'name': 'cfssl-self-sign-ib', 'official_name': 'CFSSL Iron Bank', 'official_website': 'https://cfssl.org/', 'source_image_provider': 'Platform One', 'source_image_repo': 'registry1.dso.mil/ironbank/gitlab/gitlab/cfssl-self-sign', 'source_image_repo_link': 'https://registry1.dso.mil/harbor/projects/3/repositories/gitlab%2Fgitlab%2Fcfssl-self-sign', 'source_image_readme': 'https://repo1.dso.mil/dsop/gitlab/gitlab/cfssl-self-sign/-/blob/development/README.md', 'rf_docker_link': 'rapidfort/cfssl-self-sign-ib', 'image_workflow_name': 'cfssl-self-sign_ironbank', 'github_location': 'cfssl-self-sign/ironbank', 'report_url': 'https://us01.rapidfort.com/app/community/imageinfo/registry1.dso.mil%2Fironbank%2Fgitlab%2Fgitlab%2Fcfssl-self-sign', 'usage_instructions': '# Argocd can be deployed with:\n$ helm repo add argo https://argoproj.github.io/argo-helm\n$ helm install rf-argocd argo/argo-cd --set image.repository=rapidfort/argocd-ib --set image.tag=v2.11.2\n', 'what_is_text': "CFSSL is CloudFlare's PKI/TLS swiss army knife. It is both a command line tool and an HTTP API server for signing, verifying, and bundling TLS certificates.\n", 'disclaimer': 'Trademarks: This software listing is packaged by RapidFort. The respective trademarks mentioned in the offering are owned by the respective companies, and use of them does not imply any affiliation or endorsement.\n', 'input_registry': {'registry': 'registry1.dso.mil', 'account': 'ironbank'}, 'repo_sets': [{'gitlab/gitlab/cfssl-self-sign': {'input_base_tag': '1.6.', 'output_repo': 'cfssl-self-sign-ib'}}], 'runtimes': [{'type': 'docker_compose', 'script': 'dc_coverage.sh', 'compose_file': 'docker-compose.yml', 'image_keys': {'cfssl-self-sign-ib': {'repository': 'CFSSL_IMAGE_REPOSITORY', 'tag': 'CFSSL_IMAGE_TAG'}}}]}
[09:39:32] {/root/rapidfort/community-images/community_images/common/orchestrator/tag_manager.py:108} INFO - got latest tag = ironbank, gitlab/gitlab/cfssl-self-sign, 1.6.1 for base_tag = 1.6.
[09:39:32] {/root/rapidfort/community-images/community_images/common/orchestrator/tag_manager.py:108} INFO - got latest tag = pranav0s, cfssl-self-sign-ib, latest for base_tag = 1.6.
[09:39:33] {/root/rapidfort/community-images/community_images/common/orchestrator/registry_helper.py:47} INFO - Image docker.io/pranav0s/cfssl-self-sign-ib:latest not found, returning digest: d95f5bda660ef313f57e1b7cd6c75d165e63fa6c8c823b41974cea7c388fd4bf
[09:39:33] {/root/rapidfort/community-images/community_images/common/orchestrator/tag_manager.py:155} INFO - input tag with digest details=1.6.1:sha256:b511f2689a4ecd04cb6ee5530e0087354ef55184822a94967d48131793fcbcbe
[09:39:33] {/root/rapidfort/community-images/community_images/common/orchestrator/tag_manager.py:156} INFO - output tag with digest details=latest:d95f5bda660ef313f57e1b7cd6c75d165e63fa6c8c823b41974cea7c388fd4bf
[09:39:33] {/root/rapidfort/community-images/community_images/common/orchestrator/tag_manager.py:157} INFO - publish flag=False
[09:39:33] {/root/rapidfort/community-images/community_images/common/orchestrator/tag_manager.py:158} INFO - force publish flag=False
[09:39:33] {/root/rapidfort/community-images/community_images/common/orchestrator/tag_manager.py:167} INFO - decision for needs generation=True
[09:39:33] {/root/rapidfort/community-images/community_images/common/orchestrator/coverage_runner.py:180} INFO - Image tag list = {'cfssl-self-sign-ib': {'repo_path': 'pranav0s/cfssl-self-sign-ib', 'tag': '1.6.1-rfstub'}}
[09:39:33] {/root/rapidfort/community-images/community_images/common/orchestrator/coverage_runner.py:103} INFO - Running runtime script for docker_compose: dc_coverage.sh
[09:39:33] {/root/rapidfort/community-images/community_images/common/orchestrator/coverage_runner.py:106} INFO - Script abs path to execute: /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/dc_coverage.sh
[09:39:33] {/root/rapidfort/community-images/community_images/common/orchestrator/coverage_runner.py:231} INFO - docker compose runner called for /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/dc_coverage.sh {'type': 'docker_compose', 'script': 'dc_coverage.sh', 'compose_file': 'docker-compose.yml', 'image_keys': {'cfssl-self-sign-ib': {'repository': 'CFSSL_IMAGE_REPOSITORY', 'tag': 'CFSSL_IMAGE_TAG'}}}
[09:39:33] {/root/rapidfort/community-images/community_images/common/orchestrator/docker_compose_setup.py:43} INFO - creating env file at: /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/docker.env.temp
[09:39:33] {/root/rapidfort/community-images/community_images/common/orchestrator/docker_compose_setup.py:52} INFO - adding CFSSL_IMAGE_REPOSITORY=pranav0s/cfssl-self-sign-ib
[09:39:33] {/root/rapidfort/community-images/community_images/common/orchestrator/docker_compose_setup.py:57} INFO - adding CFSSL_IMAGE_TAG=1.6.1-rfstub
[09:39:33] {/root/rapidfort/community-images/community_images/common/orchestrator/docker_compose_setup.py:73} INFO - cmd: docker-compose --env-file /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/docker.env.temp -f /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/docker-compose.yml -p cfssl-self-sign-ib-qsvme1lsh9 up --build -d
[09:39:33] {/root/rapidfort/community-images/community_images/common/orchestrator/utils.py:104} INFO - cmd: docker-compose --env-file /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/docker.env.temp -f /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/docker-compose.yml -p cfssl-self-sign-ib-qsvme1lsh9 up --build -d
[09:39:34] {/root/rapidfort/community-images/community_images/common/orchestrator/utils.py:106} INFO - 
[09:40:04] {/root/rapidfort/community-images/community_images/common/orchestrator/docker_compose_setup.py:83} INFO - cmd: docker-compose --env-file /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/docker.env.temp -f /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/docker-compose.yml -p cfssl-self-sign-ib-qsvme1lsh9 logs
[09:40:04] {/root/rapidfort/community-images/community_images/common/orchestrator/utils.py:104} INFO - cmd: docker-compose --env-file /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/docker.env.temp -f /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/docker-compose.yml -p cfssl-self-sign-ib-qsvme1lsh9 logs
[09:40:04] {/root/rapidfort/community-images/community_images/common/orchestrator/utils.py:106} INFO - cfssl-1  | 2024-07-17 16:39:34,606 - rfexec  [1:1] - DBG: epoch "1719502207", git hash "57ceb6f".
cfssl-1  | 2024-07-17 16:39:34,648 - rfresock[12:12] - (FAS): epoch "1719502207", git hash "57ceb6f"
cfssl-1  | cfssl version:
cfssl-1  | Version: 1.6.1
cfssl-1  | Runtime: go1.12.12
cfssl-1  | ca-config.json:
cfssl-1  | {
cfssl-1  |   "signing": {
cfssl-1  |     "default": {
cfssl-1  |       "expiry": "8760h"
cfssl-1  |     },
cfssl-1  |     "profiles": {
cfssl-1  |       "www": {
cfssl-1  |         "usages": [
cfssl-1  |           "signing",
cfssl-1  |           "cert sign",
cfssl-1  |           "key encipherment",
cfssl-1  |           "server auth"
cfssl-1  |         ],
cfssl-1  |         "expiry": "8760h"
cfssl-1  |       }
cfssl-1  |     }
cfssl-1  |   }
cfssl-1  | }
cfssl-1  | ca-csr.json:
cfssl-1  | {
cfssl-1  |   "CN": "MyCA",
cfssl-1  |   "key": {
cfssl-1  |     "algo": "ecdsa",
cfssl-1  |     "size": 256
cfssl-1  |   },
cfssl-1  |   "names": [
cfssl-1  |     {
cfssl-1  |       "O": "MyOrganization",
cfssl-1  |       "OU": "IT"
cfssl-1  |     }
cfssl-1  |   ]
cfssl-1  | }
cfssl-1  | wildecard-csr.json:
cfssl-1  | {
cfssl-1  |   "CN": "MyServer",
cfssl-1  |   "hosts": [
cfssl-1  |     "example.com",
cfssl-1  |     "*.example.com"
cfssl-1  |   ],
cfssl-1  |   "key": {
cfssl-1  |     "algo": "ecdsa",
cfssl-1  |     "size": 256
cfssl-1  |   }
cfssl-1  | }
cfssl-1  | Generating CA
cfssl-1  | 2024/07/17 16:39:34 [INFO] generating a new CA key and certificate from CSR
cfssl-1  | 2024/07/17 16:39:34 [INFO] generate received request
cfssl-1  | 2024/07/17 16:39:34 [INFO] received CSR
cfssl-1  | 2024/07/17 16:39:34 [INFO] generating key: ecdsa-256
cfssl-1  | 2024/07/17 16:39:34 [INFO] encoded CSR
cfssl-1  | 2024/07/17 16:39:34 [INFO] signed certificate with serial number 596139644722302517810297598771621500545565699680
cfssl-1  | Generating Wildcard certificate
cfssl-1  | 2024/07/17 16:39:34 [INFO] generate received request
cfssl-1  | 2024/07/17 16:39:34 [INFO] received CSR
cfssl-1  | 2024/07/17 16:39:34 [INFO] generating key: ecdsa-256
cfssl-1  | 2024/07/17 16:39:34 [INFO] encoded CSR
cfssl-1  | 2024/07/17 16:39:34 [INFO] signed certificate with serial number 89497953173968521795999573136924980463123152134

[09:40:04] {/root/rapidfort/community-images/community_images/common/orchestrator/utils.py:104} INFO - cmd: /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/dc_coverage.sh /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/run_param.json
[09:40:05] {/root/rapidfort/community-images/community_images/common/orchestrator/utils.py:104} INFO - cmd: docker-compose --env-file /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/docker.env.temp -f /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/docker-compose.yml -p cfssl-self-sign-ib-qsvme1lsh9 logs
[09:40:05] {/root/rapidfort/community-images/community_images/common/orchestrator/utils.py:106} INFO - cfssl-1  | 2024-07-17 16:39:34,606 - rfexec  [1:1] - DBG: epoch "1719502207", git hash "57ceb6f".
cfssl-1  | 2024-07-17 16:39:34,648 - rfresock[12:12] - (FAS): epoch "1719502207", git hash "57ceb6f"
cfssl-1  | cfssl version:
cfssl-1  | Version: 1.6.1
cfssl-1  | Runtime: go1.12.12
cfssl-1  | ca-config.json:
cfssl-1  | {
cfssl-1  |   "signing": {
cfssl-1  |     "default": {
cfssl-1  |       "expiry": "8760h"
cfssl-1  |     },
cfssl-1  |     "profiles": {
cfssl-1  |       "www": {
cfssl-1  |         "usages": [
cfssl-1  |           "signing",
cfssl-1  |           "cert sign",
cfssl-1  |           "key encipherment",
cfssl-1  |           "server auth"
cfssl-1  |         ],
cfssl-1  |         "expiry": "8760h"
cfssl-1  |       }
cfssl-1  |     }
cfssl-1  |   }
cfssl-1  | }
cfssl-1  | ca-csr.json:
cfssl-1  | {
cfssl-1  |   "CN": "MyCA",
cfssl-1  |   "key": {
cfssl-1  |     "algo": "ecdsa",
cfssl-1  |     "size": 256
cfssl-1  |   },
cfssl-1  |   "names": [
cfssl-1  |     {
cfssl-1  |       "O": "MyOrganization",
cfssl-1  |       "OU": "IT"
cfssl-1  |     }
cfssl-1  |   ]
cfssl-1  | }
cfssl-1  | wildecard-csr.json:
cfssl-1  | {
cfssl-1  |   "CN": "MyServer",
cfssl-1  |   "hosts": [
cfssl-1  |     "example.com",
cfssl-1  |     "*.example.com"
cfssl-1  |   ],
cfssl-1  |   "key": {
cfssl-1  |     "algo": "ecdsa",
cfssl-1  |     "size": 256
cfssl-1  |   }
cfssl-1  | }
cfssl-1  | Generating CA
cfssl-1  | 2024/07/17 16:39:34 [INFO] generating a new CA key and certificate from CSR
cfssl-1  | 2024/07/17 16:39:34 [INFO] generate received request
cfssl-1  | 2024/07/17 16:39:34 [INFO] received CSR
cfssl-1  | 2024/07/17 16:39:34 [INFO] generating key: ecdsa-256
cfssl-1  | 2024/07/17 16:39:34 [INFO] encoded CSR
cfssl-1  | 2024/07/17 16:39:34 [INFO] signed certificate with serial number 596139644722302517810297598771621500545565699680
cfssl-1  | Generating Wildcard certificate
cfssl-1  | 2024/07/17 16:39:34 [INFO] generate received request
cfssl-1  | 2024/07/17 16:39:34 [INFO] received CSR
cfssl-1  | 2024/07/17 16:39:34 [INFO] generating key: ecdsa-256
cfssl-1  | 2024/07/17 16:39:34 [INFO] encoded CSR
cfssl-1  | 2024/07/17 16:39:34 [INFO] signed certificate with serial number 89497953173968521795999573136924980463123152134

[09:40:05] {/root/rapidfort/community-images/community_images/common/orchestrator/utils.py:104} INFO - cmd: docker-compose --env-file /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/docker.env.temp -f /root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/docker-compose.yml -p cfssl-self-sign-ib-qsvme1lsh9 down -v --timeout 60
[09:41:06] {/root/rapidfort/community-images/community_images/common/orchestrator/utils.py:106} INFO - 
[09:41:06] {/root/rapidfort/community-images/community_images/common/orchestrator/coverage_runner.py:45} WARNING - Coverage run stub_coverage failed for [<tag_manager.TagMapping object at 0x7f3bfbbd2f10>] due to Command '['/root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/dc_coverage.sh', '/root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/run_param.json']' returned non-zero exit status 127.
Traceback (most recent call last):
  File "/root/rapidfort/community-images/community_images/common/orchestrator/main.py", line 188, in <module>
    main()
  File "/root/rapidfort/community-images/community_images/common/orchestrator/main.py", line 184, in main
    orchestrator.run()
  File "/root/rapidfort/community-images/community_images/common/orchestrator/main.py", line 66, in run
    ).run(command)
      ^^^^^^^^^^^^
  File "/root/rapidfort/community-images/community_images/common/orchestrator/coverage_runner.py", line 41, in run
    self.run_tag_mappings(command, tag_mappings)
  File "/root/rapidfort/community-images/community_images/common/orchestrator/coverage_runner.py", line 109, in run_tag_mappings
    runtime_runner(
  File "/root/rapidfort/community-images/community_images/common/orchestrator/coverage_runner.py", line 244, in _docker_compose_runner
    Utils.run_cmd([script_path, json_file_path])
  File "/root/rapidfort/community-images/community_images/common/orchestrator/utils.py", line 105, in run_cmd
    output_pipe = subprocess.check_output(cmd_array, stderr=sys.stdout, timeout=timeout)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/subprocess.py", line 466, in check_output
    return run(*popenargs, stdout=PIPE, timeout=timeout, check=True,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/subprocess.py", line 571, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/dc_coverage.sh', '/root/rapidfort/community-images/community_images/cfssl-self-sign/ironbank/run_param.json']' returned non-zero exit status 127.
